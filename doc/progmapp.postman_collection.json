{
	"info": {
		"_postman_id": "3bdf898c-a990-414c-bff2-1b20ab55234e",
		"name": "progmapp",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get CSRF value",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "2c7a84c5-3b72-41a9-9e63-644d644be214",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8ca2d9d2-535b-4c5c-8865-a8e3ab84bd21",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.environment.set(\"csrf_token\", pm.response.text());"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{progmappbe_host}}/csrf",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"csrf"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d3b0e2b2-7191-4d40-a74a-8b6d0d08aa43",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Your test name\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.name).to.eql(\"admin\");",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}"
					},
					{
						"key": "",
						"value": "",
						"disabled": true
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "username",
							"value": "admin",
							"type": "text"
						},
						{
							"key": "password",
							"value": "admin",
							"type": "text"
						},
						{
							"key": "",
							"value": "",
							"type": "text",
							"disabled": true
						}
					]
				},
				"url": {
					"raw": "{{progmappbe_host}}/login",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get CSRF value after login",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "2c7a84c5-3b72-41a9-9e63-644d644be214",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ae01e34d-63ce-4c00-bc8f-81e686829e34",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.environment.set(\"csrf_token\", pm.response.text());"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{progmappbe_host}}/csrf",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"csrf"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create question",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "fff8bc8e-d5f8-4ff8-ab2e-d9a859ab1db1",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"",
							"pm.test(\"Body is correct\", function () {",
							"    pm.response.to.have.body(\"micimackokedvence\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t \"id\":\"micimackokedvence\",\n\t\"text\": \"Melyik Micimackó két legkedvesebb étele?\",\n\t\"possibleAnswers\": [{\n\t\t\"textBefore\": \"Első legkedevesebb\",\n\t\t\"type\": \"dropdown\",\n\t\t\"possibleAnswerValues\": [{\n\t\t\t\"text\": \"kenyér\",\n\t\t\t\"isRightAnswer\": false\n\t\t}, {\n\t\t\t\"text\": \"sör\",\n\t\t\t\"isRightAnswer\": false\n\t\t}, {\n\t\t\t\"text\": \"méz\",\n\t\t\t\"isRightAnswer\": true\n\t\t}]\n\t}, {\n\t\t\"textBefore\": \"Második legkedevesebb\",\n\t\t\"type\": \"dropdown\",\n\t\t\"possibleAnswerValues\": [{\n\t\t\t\"text\": \"kenyér\",\n\t\t\t\"isRightAnswer\": false\n\t\t}, {\n\t\t\t\"text\": \"sör\",\n\t\t\t\"isRightAnswer\": false\n\t\t}, {\n\t\t\t\"text\": \"méz\",\n\t\t\t\"isRightAnswer\": true\n\t\t}]\n\t}]\n}"
				},
				"url": {
					"raw": "{{progmappbe_host}}/question",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"question"
					]
				}
			},
			"response": []
		},
		{
			"name": "Find question",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "99049aea-63e4-449f-a0cc-3c46af280e4f",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test(\"id is micimackokedvence\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.id).to.eql(\"micimackokedvence\");",
							"});",
							"pm.test(\"possibleAnswers.length is 2\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.possibleAnswers.length).to.eql(2);",
							"});",
							"pm.test(\"possibleAnswers[0].possibleAnswerValues.length is 3\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.possibleAnswers[0].possibleAnswerValues.length).to.eql(3);",
							"});"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyTzBBQlhOeUFDWmpiMjB1Y0hKdloyMWhkR2xqTG5CeWIyZHRZWEJ3WW1VdVpXNTBhWFJwWlhNdVZYTmxjclNEY3dWY05iMGJBZ0FIVEFBUVlXTmpiM1Z1ZEU1dmJreHZZMnRsWkhRQUUweHFZWFpoTDJ4aGJtY3ZRbTl2YkdWaGJqdE1BQXRoWTNSMVlXeFVaWE4wYzNRQUQweHFZWFpoTDNWMGFXd3ZVMlYwTzB3QURHVnRZV2xzUVdSa2NtVnpjM1FBRWt4cVlYWmhMMnhoYm1jdlUzUnlhVzVuTzB3QUNXeHZaMmx1VG1GdFpYRUFmZ0FEVEFBRWJtRnRaWEVBZmdBRFRBQUljR0Z6YzNkdmNtUnhBSDRBQTB3QUJYSnZiR1Z6Y1FCK0FBSjRjZ0FzWTI5dExuQnliMmR0WVhScFl5NXdjbTluYldGd2NHSmxMbVZ1ZEdsMGFXVnpMa0poYzJWRmJuUnBkSG1BeHYybDAyYWNkd0lBQlV3QUNXTnlaV0YwWldSQmRIUUFHVXhxWVhaaEwzUnBiV1V2VEc5allXeEVZWFJsVkdsdFpUdE1BQWxqY21WaGRHVmtRbmx4QUg0QUEwd0FBbWxrY1FCK0FBTk1BQTVzWVhOMFRXOWthV1pwWldSQ2VYRUFmZ0FEVEFBSmRYQmtZWFJsWkVGMGNRQitBQVY0Y0hOeUFBMXFZWFpoTG5ScGJXVXVVMlZ5bFYyRXVoc2lTTElNQUFCNGNIY0tCUUFBQitJTERCUVgrWGh3ZEFBa016RXdNVE5tWWprdE5qTTRaaTAwTldabUxXSXdOMlF0TWpreU9UTmpaRGM1WVdFMWNIQnpjZ0FSYW1GMllTNXNZVzVuTGtKdmIyeGxZVzdOSUhLQTFaejY3Z0lBQVZvQUJYWmhiSFZsZUhBQmMzSUFMMjl5Wnk1b2FXSmxjbTVoZEdVdVkyOXNiR1ZqZEdsdmJpNXBiblJsY201aGJDNVFaWEp6YVhOMFpXNTBVMlYwaTBmdmVkVEprWDBDQUFGTUFBTnpaWFJ4QUg0QUFuaHlBRDV2Y21jdWFHbGlaWEp1WVhSbExtTnZiR3hsWTNScGIyNHVhVzUwWlhKdVlXd3VRV0p6ZEhKaFkzUlFaWEp6YVhOMFpXNTBRMjlzYkdWamRHbHZia0FzK0ExWTFWTHlBZ0FMV2dBYllXeHNiM2RNYjJGa1QzVjBjMmxrWlZSeVlXNXpZV04wYVc5dVNRQUtZMkZqYUdWa1UybDZaVm9BQldScGNuUjVXZ0FPWld4bGJXVnVkRkpsYlc5MlpXUmFBQXRwYm1sMGFXRnNhWHBsWkZvQURXbHpWR1Z0Y0ZObGMzTnBiMjVNQUFOclpYbDBBQlpNYW1GMllTOXBieTlUWlhKcFlXeHBlbUZpYkdVN1RBQUZiM2R1WlhKMEFCSk1hbUYyWVM5c1lXNW5MMDlpYW1WamREdE1BQVJ5YjJ4bGNRQitBQU5NQUJKelpYTnphVzl1Um1GamRHOXllVlYxYVdSeEFINEFBMHdBRG5OMGIzSmxaRk51WVhCemFHOTBjUUIrQUE1NGNBRC8vLy8vQUFBQUFIRUFmZ0FKY1FCK0FBWjBBREpqYjIwdWNISnZaMjFoZEdsakxuQnliMmR0WVhCd1ltVXVaVzUwYVhScFpYTXVWWE5sY2k1aFkzUjFZV3hVWlhOMGMzQndjSEIwQUFWaFpHMXBibkIwQUR3a01tRWtNVEFrUkdSQlVEbE1Za05STVRsTU0xUnNjSEYzTWpodFpWWXhMMUZuVjNCWFJ6WlZkV04zVVdkS1pXOU1XRFpuUzFwT1lrd3Zlakp6Y1FCK0FBd0EvLy8vL3dBQUFRQjBBQ1F6TVRBeE0yWmlPUzAyTXpobUxUUTFabVl0WWpBM1pDMHlPVEk1TTJOa056bGhZVFZ4QUg0QUJuUUFMR052YlM1d2NtOW5iV0YwYVdNdWNISnZaMjFoY0hCaVpTNWxiblJwZEdsbGN5NVZjMlZ5TG5KdmJHVnpjSE55QUJGcVlYWmhMblYwYVd3dVNHRnphRTFoY0FVSDJzSERGbURSQXdBQ1JnQUtiRzloWkVaaFkzUnZja2tBQ1hSb2NtVnphRzlzWkhod1AwQUFBQUFBQUFGM0NBQUFBQUlBQUFBQmMzSUFKbU52YlM1d2NtOW5iV0YwYVdNdWNISnZaMjFoY0hCaVpTNWxiblJwZEdsbGN5NVNiMnhscnBoMm9yeFhLck1DQUFOTUFBUnVZVzFsY1FCK0FBTk1BQXB3Y21sMmFXeHBaMlZ6Y1FCK0FBSk1BQVYxYzJWeWMzRUFmZ0FDZUhFQWZnQUVjM0VBZmdBSGR3b0ZBQUFINGdzTUZCZjVlSEIwQUNSaE9UZGhOR1l3Tmkwd056RmxMVFJrTWpJdE9UaGhZaTAyWVRRd01qTXdNV0ZtTVRod2NIUUFCM1JsWVdOb1pYSnpjUUIrQUF3QS8vLy8vd0FBQVFCMEFDUmhPVGRoTkdZd05pMHdOekZsTFRSa01qSXRPVGhoWWkwMllUUXdNak13TVdGbU1UaHhBSDRBR25RQU1XTnZiUzV3Y205bmJXRjBhV011Y0hKdloyMWhjSEJpWlM1bGJuUnBkR2xsY3k1U2IyeGxMbkJ5YVhacGJHbG5aWE53YzNFQWZnQVhQMEFBQUFBQUFBTjNDQUFBQUFRQUFBQURjM0lBSzJOdmJTNXdjbTluYldGMGFXTXVjSEp2WjIxaGNIQmlaUzVsYm5ScGRHbGxjeTVRY21sMmFXeHBaMlZ0Uk9LQ05iczVvZ0lBQWt3QUJHNWhiV1Z4QUg0QUEwd0FCWEp2YkdWemNRQitBQUo0Y1FCK0FBUnpjUUIrQUFkM0NnVUFBQWZpQ3d3VUYvbDRjSFFBSkRnME5XRXlNV1ZoTFdNNU56Z3ROR0l5TVMxaFl6UmpMVGd6WldNeE5qWmpaV0ppWTNCd2RBQU1jbVZoWkZGMVpYTjBhVzl1YzNFQWZnQU1BUC8vLy84QUFBQUFjUUIrQUNWeEFINEFJM1FBTVdOdmJTNXdjbTluYldGMGFXTXVjSEp2WjIxaGNIQmlaUzVsYm5ScGRHbGxjeTVRY21sMmFXeHBaMlV1Y205c1pYTndjSEJ4QUg0QUkzTnhBSDRBSW5OeEFINEFCM2NLQlFBQUIrSUxEQlFYK25od2RBQWtZbUptWlRFd04yTXRPRGhpWXkwME9UY3hMV0psWW1VdFlUa3dZamd4TldaaVpUUXhjSEIwQUE1amNtVmhkR1ZSZFdWemRHbHZibk54QUg0QURBRC8vLy8vQUFBQUFIRUFmZ0FyY1FCK0FDbHhBSDRBS0hCd2NIRUFmZ0FwYzNFQWZnQWljM0VBZmdBSGR3b0ZBQUFINGdzTUZCZjVlSEIwQUNSbE1EWTROREJtT0MwM09XWXpMVFF5T1RjdE9URXpZaTB5Wmpjd016TTJNRFJqWVRsd2NIUUFDbU55WldGMFpWUmxjM1J6Y1FCK0FBd0EvLy8vL3dBQUFBQnhBSDRBTUhFQWZnQXVjUUIrQUNod2NIQnhBSDRBTG5oemNnQVJhbUYyWVM1MWRHbHNMa2hoYzJoVFpYUzZSSVdWbHJpM05BTUFBSGh3ZHd3QUFBQVFQMEFBQUFBQUFBTnhBSDRBSTNFQWZnQXBjUUIrQUM1NGMzRUFmZ0FNQVAvLy8vOEFBQUFBY1FCK0FCeHhBSDRBR25RQUxHTnZiUzV3Y205bmJXRjBhV011Y0hKdloyMWhjSEJpWlM1bGJuUnBkR2xsY3k1U2IyeGxMblZ6WlhKemNIQndjUUIrQUJwNGMzRUFmZ0F6ZHd3QUFBQVFQMEFBQUFBQUFBRnhBSDRBR25nPSIsImV4cCI6MTU0MjIxNjIxMH0.I9KYH5uswSwoj20RQiiY3_nCJ3xqgGXwIVJXeil687gUkv2uerY1FsMyfUbD5_3lGZqyXkRIVTLJ5KTKQMnFWw",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}"
					}
				],
				"url": {
					"raw": "{{progmappbe_host}}/question/micimackokedvence",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"question",
						"micimackokedvence"
					]
				}
			},
			"response": []
		},
		{
			"name": "Copy question",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1ddcc745-e5d5-4df7-9f29-b92ae5505880",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"url": {
					"raw": "{{progmappbe_host}}/questioncopy/micimackokedvence",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"questioncopy",
						"micimackokedvence"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create class",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a5c87089-0eff-4af2-9846-9640719d7bc0",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"id\": \"progmatic2020-ősz\",\n    \"year\": 2020,\n    \"semester\": \"autumn\",\n    \"isActive\": true\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{progmappbe_host}}/class",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"class"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create student",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "197e2103-cce9-4188-83d1-8d101377b578",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Mézga Aladár\",\n    \"loginName\": \"mezgaaladar\",\n    \"emailAddress\": \"mezgaaladar@gmail.com\",\n    \"password\": \"mezgaaladar\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{progmappbe_host}}/student",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"student"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add student to class",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc6d67f6-50ad-4fc0-98ff-51e81aa5e14b",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "X-CSRF-TOKEN",
						"value": "{{csrf_token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"idList\": [\n        \"mezgaaladar\"\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{progmappbe_host}}/class/progmatic2020-ősz/students",
					"host": [
						"{{progmappbe_host}}"
					],
					"path": [
						"class",
						"progmatic2020-ősz",
						"students"
					]
				}
			},
			"response": []
		}
	]
}